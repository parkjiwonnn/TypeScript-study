# 5장 타입 활용하기

## 5.1 조건부 타입

- 조건부 타입을 사용해 조건에 따라 출력 타입을 다르게 도출할 수 있음
- 자바스크립트의 삼항 연산자와 동일한 형태를 가짐
- 중복되는 타입 코드를 제거하고 상황에 따라 적절한 타입을 얻을 수 있기 때문에 더욱 정확한 타입 추론을 할 수 있음

### (1) extends와 제네릭을 활용한 조건부 타입

- 조건부 타입에서 extends를 사용할 때는 자바스크립트 삼항 연산자와 함께 사용

```jsx
T extends U ? X : Y
// 타입 T를 U에 할당할 수 있으면 X 타입, 아니면 Y 타입으로 결정됨을 의미
```

### (2) 조건부 타입을 사용하지 않았을 때의 문제점

- 인자로 넣는 타입에 알맞은 타입을 반환하고 싶지만, 타입 설정이 유니온으로만 되어있으면 타입스크립트는 해당 타입에 맞는 타입을 추론할 수 없음
- 인자에 따라 반환되는 타입을 다르게 설정하고 싶다면 extends를 사용한 조건부 타입을 활용하면 됨

### (3) extends 조건부 타입을 활용하여 개선하기

- 제네릭과 extends를 함께 사용해 제네릭으로 받는 타입을 제한함, 따라서 개발자는 잘못된 값을 넘길 수 없기 때문에 휴먼 에러를 방지할 수 있음
- extends를 활용해 조건부 타입을 설정하여 반환 값을 사용자가 원하는 값으로 구체화할 수 있음, 이에 따라 불필요한 타입 가드, 타입 단언 등을 방지할 수 있음

### (4) infer를 활용하여 타입 추론하기

- 삼항 연산자를 사용한 조건문의 형태를 가지는데, extends로 조건을 서술하고 infer로 타입을 추론하는 방식을 취함

```jsx
type UnpackPromise<T> = T extends Promise<infer K>[] ? K : any;
// 제네릭으로 T를 받아 T가 Promise로 래핑된 경우라면 K를 반환하고, 그렇지 않은 경우에는 any를 반환함
// Promise<infer K>는 Promise의 반환 값을 추론해 해당 값의 타입을 K로 한다는 의미
```

## 5.2 템플릿 리터럴 타입 활용하기
