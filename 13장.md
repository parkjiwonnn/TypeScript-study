# 타입스크립트와 객체지향

## 13.1 타입스크립트의 객체 지향

- **자바스크립트**는 프로토타입 기반의 객체 지향 언어로 분류됨
- 자바스크립트는 전통적인 객체 지향 프로그래밍 언어에서 기대할 수 있는 일부 기능을 지원하지 않아 객체 지향을 온전히 구현하는 데 부족함이 있음
- 타입스크립트가 private과 같은 접근 제어자나 추상 클래스, 추상 메서드 같은 기능을 지원하면서 해결해줌
- **타입스크립트**는 객체 지향을 구현할 수 있도록 도와주는 자바스크립트의 슈퍼셋
- 타입스크립트는 점진적 타이핑, 구조적 타이핑 그리고 덕 타이핑이 결합한 언어
  - 점진적 타이핑 : 프로그램 전체가 아닌 개발자가 명시한 일부분만 정적 타입 검사를 거치게 하고 나머지 부분은 그대로 동적 타입 검사가 이루어지게 하여 점진적 개선을 할 수 있도록 해줌
  - 덕 타이핑 : 객체의 변수와 메서드 집합이 객체의 타입을 결정하게 해줌
  - 구조적 타이핑 : 구조적 타입 시스템이라고도 부름, 면시적인 선언이나 이름에 의존하여 명확한 상속 관계를 지향하는 노미널 타이핑과 달리 구조적 타이핑은 객체의 속성에 해당하는 특정 타입의 속성을 갖는지를 검사하여 타입 호환성을 결정함
- 노미널 타이핑 언어는 인터페이스와 클래스가 일대일로 대응됨
- 타입스크립트 같은 구조적 타이핑 언어는 하나의 클래스에 여러 인터페이스가 연결될 수 있고 하나의 인터페이스에 여러 클래스가 연결될 수도 있음
- **컴포넌트**는 스스로 책임을 져야하는 역할을 수행하면서 다른 컴포넌트 객체와 협력하는 독립적인 객체
- 컴포넌트를 조합하는 것도 객체 지향을 활용하는 것이라고 볼 수 있음
- 객체 지향 페러다임 : 객체 간의 협력 관계에 초점을 둠, 컴포넌트 간의 협력 관계를 표현하는 것이 prop, 객체 자체가 아니라 프레임워크에 의해 객체의 의존성이 주입되는 DI 패턴을 따름
- **DI**는 객체 간의 의존 관계를 설정하는데 사용됨
- DI를 구현하기 위해 A 클래스가 B 클래스에 의존한다고 하더라도, A가 B의 구체 클래스가 아닌 B의 인터페이스에 의존하도록 설계해야 함
- DI 패턴을 따르면 객체 간의 결합도를 낮출 수 있는데 타입스크립트로 DI 패턴을 더욱 명확하게 표현가능
- **웹 개발**을 하면서 객체 지향을 구현하기 어려운 이유 : 웹 개발에서는 선언적인 언어 또는 문법을 사용할 때가 있음
- 객체 지향을 구현하려면 객체 간의 협력 관계를 먼저 고려하고 메세지를 정의하여 해당 메세지를 수신할 알맞은 객체를 결정하는 절차를 따르게 됨
- HTML 마크업을 선언적으로 작성할 때는 컴포넌트 간의 관계를 먼저 떠올리기 어려움
- 변경이 용이하고 유지보수성이 높은 설계를 하기 위해 객체 지향을 구현하는 것인데 사전에 레이아웃의 변화를 예측할 수 없음
- 레이아웃 변동에 더 나은 대응을 하고자 MVP, MVC, MVVM 등의 다양한 패턴이 등장했지만 완벽한 해결책이 아님
- 선언적인 문법을 사용하면서 객체 지향을 완벽하게 구현하는 것은 어려움

## 13.2 우아한 형제들의 활용 방식

- 온전히 레이아웃만 담당하는 컴포넌트 영역
- 컴포넌트 영역 위에서 레이아웃과 비지니스 로직을 연결해주는 커스텀 훅 영역
- 훅 영역 위에서 객체로서 상호 협력하는 모델 영역
- 모델 영역 위에서 API를 해석하여 모델로 전달하는 API 레이어 영역

## 13.3 캡슐화와 추상화

- 프로젝트 설계의 궁극적인 목표 : 객체들이 유기적으로 협력하게끔 만들어서 적절하게 도메인 분리를 하는 것
- 추상화 : 객체들을 모델링하는 과정 자체, 객체들을 사람이 인지할 수 있도록 적합한(Cart, Product 등) 설계를 하는 것
- 캡슐화 : 다른 객체 내부의 데이터를 꺼내와서 직접 다루지 않고, 해당 객체에게 처리할 행위를 따로 요청함으로써 협력하는 것
- 컴포넌트는 객체이므로 컴포넌트의 내부 데이터인 상태가 캡슐화의 대상이 될 수 있음
- 컴포넌트 내의 상태와 prop을 잘 다루는 것도 캡슐화의 개념에 부합하는 것
- prop drilling이 심할수록 컴포넌트 간의 결합도는 높아지며 내부 처리 로직이 외부로 드러남 → 문제 해결을 위해 옵저버 패턴 등장, 컨텍스트 API 및 Redux, MobX, Recoil과 같은 다양한 상태 관리 라이브러리가 생겨남
- 적절하게 캡슐화되고 추상화된 컴포넌트를 활용하면 애플리케이션을 더 유기적으로 구성할 수 있음
- 객체 지향 패러다임에 매몰되기 보다는 어떻게 하면 더 유기적인 협력 관계를 만들어낼 수 있을지, 명확하게 도메인을 분리할 수 있을지 집중하는 것이 중요
